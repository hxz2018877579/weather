# # 暴雨预警模板数据
# # RAIN_STORM_TEMPLATES[预警等级][预警类型][短信类型]
# RAIN_STORM_TEMPLATES = {
#     "黄色": {
#         "提前": {
#             "短短信": "X县气象台X日X时X分发布暴雨黄色预警信号：预计未来6小时内我县{辖区区域}将出现暴雨请注意防范",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨黄色预警信号：目前强降雨云团正逐渐靠近我县{辖区区域}，预计未来6小时，我县{辖区区域}将出现XX毫米左右的强降雨，并可能伴有{伴随天气}，",
#                 "升级提示": "后期升级预警信号的可能性较大，",
#                 "风险提示": {
#                     "山洪地质灾害": "山洪地质灾害气象风险大，请注意防范。",
#                     "县城积涝": "县城积涝气象风险大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "过程": {
#             "短短信": "X县气象台X日X时X分发布暴雨黄色预警信号：我县{辖区区域}已出现强降雨，6小时内我县{辖区区域}将出现暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨黄色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来6小时，我县{辖区区域}仍将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
#                 "升级提示": "后期升级预警信号的可能性较大，",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险大，请防范。",
#                     "县城积涝": "，县城积涝气象风险大，请防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "实况": {
#             "短短信": "X县气象台X日X时X分发布暴雨黄色预警信号：我县{辖区区域}已出现暴雨，X小时内强降雨将持续（或影响XX），请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨黄色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的强降雨，目前，强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍有Y2毫米左右降雨，并可能伴有{伴随天气}",
#                 "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨橙色预警，则加上“后期升级预警信号的可能性较大，”）",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险大，请注意防范。",
#                     "县城积涝": "，县城积涝气象风险大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "实况趋减": {
#             "短短信": "X县气象台X日X时X分发布暴雨黄色预警信号：{辖区区域}已出现暴雨，雨势趋于减小，请防范强降水后引发的次生灾害。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨黄色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前，强降雨云团明显减弱{移向}，预计未来XX小时，我县{辖区区域}仍有Y2毫米左右降雨，",
#                 "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨橙色预警，则加上“后期升级预警信号的可能性较大，”）",
#                 "风险提示": {
#                     "山洪地质灾害": "山洪地质灾害气象风险大，请注意防范。",
#                     "县城积涝": "县城积涝气象风险大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "继续发布": {
#             "短短信": "X县气象台X日X时X分继续发布暴雨黄色预警信号：{辖区区域}未来X小时内仍将出现暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分继续发布暴雨黄色预警信号：目前强降雨云团已影响我县{辖区区域}，强度{强度变化趋势}，预计未来6小时，我县{辖区区域}将出现Y2毫米左右的降雨，并可能伴有{伴随天气}",
#                 "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨橙色预警，则加上“后期升级预警信号的可能性较大，”）",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险大，请注意防范。",
#                     "县城积涝": "，县城积涝气象风险大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "橙降黄色": {
#             "短短信": "X县气象台X日X时X分将暴雨橙色预警信号调整为黄色：我县{辖区区域}未来6小时内将出现暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分将暴雨橙色预警信号调整为黄色：过去Y1小时，我县{辖区区域}已出现Y2毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度减弱，预计未来6小时，我县{辖区区域}仍将有Y3毫米左右的强降雨，并可能伴有{伴随天气}",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险大，请防范。",
#                     "县城积涝": "，县城积涝气象风险大，请防范。"
#                 },
#             }
#         },
#         "红降黄色": {
#             "短短信": "X县气象台X日X时X分将暴雨红色预警信号调整为黄色：我县{辖区区域}未来6小时内将出现暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分将暴雨红色预警信号调整为黄色：过去Y1小时，我县{辖区区域}已出现Y2毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度减弱，预计未来6小时，我县{辖区区域}仍将有Y3毫米左右的强降雨，并可能伴有{伴随天气}",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险较大，请防范。",
#                     "县城积涝": "，县城积涝气象风险较大，请防范。"
#                 },
#             }
#         },
#         "解除": {
#             "短短信": "X县气象台X日X时X分解除我县暴雨黄色预警信号,请注意防范强降水过后可能引发的次生灾害。",
#             "长短信": {
#                 "主体": "目前{云团状态}，对我县影响{影响状态}，X县气象台X日X时X分解除暴雨黄色预警信号，请注意防范强降水过后可能引发的次生灾害。{过去时长}{实际影响区域}已经出现{降雨范围}毫米，局地的{局地降雨范围}毫米的暴雨天气，最大降雨出现在{最大降雨区域}（{最大降雨量}毫米）。",
#             }
#         }
#     },
#     "橙色": {
#         "提前": {
#             "短短信": "X县气象台X日X时X分发布暴雨橙色预警信号：预计未来3小时内我县{辖区区域}将出现暴雨请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨橙色预警信号：目前强降雨云团正逐渐靠近我县{辖区区域}，预计未来3小时，我县{辖区区域}将出现XX毫米左右的强降雨，并可能伴有{伴随天气}，",
#                 "升级提示": "后期升级预警信号的可能性较大，",
#                 "风险提示": {
#                     "山洪地质灾害": "山洪地质灾害气象风险较大，请注意防范。",
#                     "县城积涝": "县城积涝气象风险较大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "过程": {
#             "短短信": "X县气象台X日X时X分发布暴雨橙色预警信号：我县{辖区区域}已出现强降雨，3小时内我县{辖区区域}将出现暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨橙色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来3小时，我县{辖区区域}仍将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
#                 "升级提示": "后期升级预警信号的可能性较大，",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险较大，请防范。",
#                     "县城积涝": "，县城积涝气象风险较大，请防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "实况": {
#             "短短信": "X县气象台X日X时X分发布暴雨橙色预警信号：我县{辖区区域}已出现暴雨，X小时内强降雨将持续（或影响XX），请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨橙色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的强降雨，目前，强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍有 Y2毫米左右降雨，并可能伴有{伴随天气}",
#                 "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨红色预警，则加上“后期升级预警信号的可能性较大，”）",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险较大，请注意防范。",
#                     "县城积涝": "，县城积涝气象风险较大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "实况趋减": {
#             "短短信": "X县气象台X日X时X分发布暴雨橙色预警信号：{辖区区域}已出现暴雨，雨势趋于减小，请防范强降水后引发的次生灾害。",
#             "长短信": {
#                 "主体": "X县气象台XX日XX时XX分发布暴雨橙色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前，强降雨云团明显减弱{移向}，预计未来XX小时，{辖区区域}仍有Y2毫米左右降雨，",
#                 "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨红色预警，则加上“后期升级预警信号的可能性较大，”）",
#                 "风险提示": {
#                     "山洪地质灾害": "山洪地质灾害气象风险大，请注意防范。",
#                     "县城积涝": "城区积涝气象风险大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "继续发布": {
#             "短短信": "X县气象台X日X时X分继续发布暴雨橙色预警信号：3小时内暴雨将继续影响{辖区区域}，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分继续发布暴雨橙色预警信号：目前强降雨云团已影响我县{辖区区域}，强度{强度变化趋势}，预计未来3小时，我县{辖区区域}将出现Y2毫米左右的强降雨，并可能伴有{伴随天气}",
#                 "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨红色预警，则加上“后期升级预警信号的可能性较大，”）",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险较大，请注意防范。",
#                     "县城积涝": "，县城积涝气象风险较大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "黄升橙色": {
#             "短短信": "X县气象台X日X时X分将暴雨黄色预警信号提升为橙色：我县{辖区区域}未来3小时内（或X时到X时）将出现暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分将暴雨黄色预警信号提升为橙色：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前，强降雨云团缓慢{移向}或稳定少动，强度增强，预计未来3小时，我县{辖区区域}仍将有Y2毫米左右的强降雨，并可能伴有{伴随天气}",
#                 "升级提示": "",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险较大，请防范。",
#                     "县城积涝": "，县城积涝气象风险较大，请防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "红降橙色": {
#             "短短信": "X县气象台X日X时X分将暴雨红色预警信号调整为橙色：我县{辖区区域}未来3小时内（或X时到X时）将出现暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分将暴雨红色预警信号调整为橙色：过去Y1小时，我县{辖区区域}已出现Y2毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度减弱，预计未来3小时，我县{辖区区域}仍将有Y3毫米左右的强降雨，并可能伴有{伴随天气}",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险大，请注意防范。",
#                     "县城积涝": "，县城积涝气象风险大，请注意防范。"
#                 },
#             }
#         },
#         "解除": {
#             "短短信": "X县气象台X日X时X分解除我县暴雨橙色预警信号,请注意防范强降水过后可能引发的次生灾害。",
#             "长短信": {
#                 "主体": "目前{云团状态}，对我县影响{影响状态}，X县气象台X日X时X分解除暴雨橙色预警信号，请注意防范强降水过后可能引发的次生灾害。{过去时长}{实际影响区域}已经出现{降雨范围}毫米，局地的{局地降雨范围}毫米的大暴雨天气，最大降雨出现在{最大降雨区域}（{最大降雨量}毫米）。",
#             }
#         }
#     },
#     "红色": {
#         "提前": {
#             "短短信": "X县气象台X日X时X分发布暴雨红色预警信号：预计未来3小时内我县{辖区区域}将出现大暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨红色预警信号：目前强降雨云团正逐渐靠近我县{辖区区域}，预计未来3小时，我县{辖区区域}将出现XX毫米左右的强降雨，并可能伴有{伴随天气}，",
#                 "升级提示": "",
#                 "风险提示": {
#                     "山洪地质灾害": "山洪地质灾害气象风险很大，请注意防范。",
#                     "县城积涝": "县城积涝气象风险很大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "过程": {
#             "短短信": "X县气象台X日X时X分发布暴雨红色预警信号：我县{辖区区域}已出现强降雨，3小时内我县{辖区区域}将出现大暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分发布暴雨红色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来3小时，我县{辖区区域}仍将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
#                 "升级提示": "",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险很大，请防范。",
#                     "县城积涝": "，县城积涝气象风险很大，请防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "实况": {
#             "短短信": "X县气象台X日X时X分发布暴雨红色预警信号：我县{辖区区域}已出现大暴雨，X小时内强降雨将持续（或影响XX），请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台XX日XX时XX分发布暴雨红色预警信号：过去XX小时，我县{辖区区域}已出现Y1毫米左右的强降雨，目前，强降雨云团缓慢{移向}，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍有Y2毫米左右降雨，并可能伴有{伴随天气}",
#                 "升级提示": "",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险很大，请防范。",
#                     "县城积涝": "，县城积涝气象风险很大，请防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "实况趋减": {
#             "短短信": "X县气象台X日X时X分发布暴雨红色预警信号：{辖区区域}已出现大暴雨，雨势趋于减小，请防范强降水后引发的次生灾害。",
#             "长短信": {
#                 "主体": "X县气象台XX日XX时XX分发布暴雨红色预警信号：过去XX小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前，强降雨云团明显减弱{移向}，预计未来XX小时，{辖区区域}仍有Y2毫米左右降雨，",
#                 "升级提示": "",
#                 "风险提示": {
#                     "山洪地质灾害": "山洪地质灾害气象风险大，请注意防范。",
#                     "县城积涝": "城区积涝气象风险大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "继续发布": {
#             "短短信": "X县气象台X日X时X分继续发布暴雨红色预警信号：3小时内大暴雨将继续影响{辖区区域}，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分继续发布暴雨红色预警信号：目前强降雨云团已影响我县{辖区区域}，强度{强度变化趋势}，预计未来3小时，我县{辖区区域}将出现Y2毫米左右的强降雨，并可能伴有{伴随天气}",
#                 "升级提示": "",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险很大，请注意防范。",
#                     "县城积涝": "，县城积涝气象风险很大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "黄升红色": {
#             "短短信": "X县气象台X日X时X分将暴雨黄色预警信号提升为红色：我县{辖区区域}未来3小时内（或X时到X时）将出现大暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分将暴雨黄色预警信号提升为红色：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
#                 "升级提示": "",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险很大，请注意防范。",
#                     "县城积涝": "，城区积涝气象风险很大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "橙升红色": {
#             "短短信": "X县气象台X日X时X分将暴雨橙色预警信号提升为红色：我县{辖区区域}未来3小时内将出现大暴雨，请注意防范。",
#             "长短信": {
#                 "主体": "X县气象台X日X时X分将暴雨橙色预警信号提升为红色：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来X2小时，我县{辖区区域}将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
#                 "升级提示": "",
#                 "风险提示": {
#                     "山洪地质灾害": "，山洪地质灾害气象风险很大，请注意防范。",
#                     "县城积涝": "，城区积涝气象风险很大，请注意防范。"
#                 },
#                 "结尾": ""
#             }
#         },
#         "解除": {
#             "短短信": "X县气象台X日X时X分解除我县暴雨红色预警信号,请注意防范强降水过后可能引发的次生灾害。",
#             "长短信": {
#                 "主体": "目前{云团状态}，对我县影响{影响状态}，X县气象台X日X时X分解除暴雨红色预警信号，请注意防范强降水过后可能引发的次生灾害。过去{过去时长}{实际影响区域}已经出现{降雨范围}毫米，局地的{局地降雨范围}毫米的大暴雨天气，最大降雨出现在{最大降雨区域}（{最大降雨量}毫米）。",
#             }
#         }
#     }
# }
# 暴雨预警模板数据
# 预警级别 [等级] -> 预警类型 [提前/过程/实况/实况趋减/继续发布/升级/降级/解除] -> 短信类型 [短短信/长短信]
RAIN_STORM_TEMPLATES = {
    "黄色": {
        "提前": {
            "短短信": "X县气象台X日X时X分发布暴雨黄色预警信号：预计未来X小时内我县{辖区区域}将出现暴雨请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨黄色预警信号：目前强降雨云团正逐渐靠近我县{辖区区域}，预计未来XX小时，我县{辖区区域}将出现XYX毫米左右的强降雨，并可能伴有{伴随天气}，",
                "升级提示": "后期升级预警信号的可能性较大，",
                "风险提示": {
                    "山洪地质灾害": "山洪地质灾害气象风险大，请注意防范。",
                    "县城积涝": "县城积涝气象风险大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "过程": {
            "短短信": "X县气象台X日X时X分发布暴雨黄色预警信号：我县{辖区区域}已出现强降雨，X小时内我县{辖区区域}将出现暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨黄色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
                "升级提示": "后期升级预警信号的可能性较大",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险大，请防范。",
                    "县城积涝": "，县城积涝气象风险大，请防范。"
                },
                "结尾": ""
            }
        },
        "实况": {
            "短短信": "X县气象台X日X时X分发布暴雨黄色预警信号：我县{辖区区域}已出现暴雨，X小时内强降雨将持续，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨黄色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的强降雨，目前，强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍有Y2毫米左右降雨，并可能伴有{伴随天气}",
                "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨橙色预警，则加上“后期升级预警信号的可能性较大”）",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险大，请注意防范。",
                    "县城积涝": "，县城积涝气象风险大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "实况趋减": {
            "短短信": "X县气象台X日X时X分发布暴雨黄色预警信号：{辖区区域}已出现暴雨，雨势趋于减小，请防范强降水后引发的次生灾害。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨黄色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前，强降雨云团明显减弱{移向}，预计未来XX小时，我县{辖区区域}仍有Y2毫米左右降雨，",
                "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨橙色预警，则加上“后期升级预警信号的可能性较大，”）",
                "风险提示": {
                    "山洪地质灾害": "山洪地质灾害气象风险大，请注意防范。",
                    "县城积涝": "县城积涝气象风险大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "继续发布": {
            "短短信": "X县气象台X日X时X分继续发布暴雨黄色预警信号：{辖区区域}未来X小时内仍将出现暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分继续发布暴雨黄色预警信号：目前强降雨云团已影响我县{辖区区域}，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}将出现Y2毫米左右的降雨，并可能伴有{伴随天气}",
                "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨橙色预警，则加上“后期升级预警信号的可能性较大，”）",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险大，请注意防范。",
                    "县城积涝": "，县城积涝气象风险大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "解除": {
            "短短信": "X县气象台X日X时X分解除我县暴雨黄色预警信号,请注意防范强降水过后可能引发的次生灾害。",
            "长短信": {
                "主体": "目前{云团状态}，对我县影响{影响状态}，X县气象台X日X时X分解除暴雨黄色预警信号，请注意防范强降水过后可能引发的次生灾害。过去{过去时长}小时{实际影响区域}已经出现{降雨范围}毫米，局地的{局地降雨范围}毫米的暴雨天气，最大降雨出现在{最大降雨区域}（{最大降雨量}毫米）。",
                "升级提示": "",
                "风险提示": {},
                "结尾": ""
            }
        }
    },
    "橙色": {
        "提前": {
            "短短信": "X县气象台X日X时X分发布暴雨橙色预警信号：预计未来X小时内我县{辖区区域}将出现暴雨请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨橙色预警信号：目前强降雨云团正逐渐靠近我县{辖区区域}，预计未来XX小时，我县{辖区区域}将出现XYX毫米左右的强降雨，并可能伴有{伴随天气}，",
                "升级提示": "后期升级预警信号的可能性较大，",
                "风险提示": {
                    "山洪地质灾害": "山洪地质灾害气象风险较大，请注意防范。",
                    "县城积涝": "县城积涝气象风险较大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "过程": {
            "短短信": "X县气象台X日X时X分发布暴雨橙色预警信号：我县{辖区区域}已出现强降雨，X小时内我县{辖区区域}将出现暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨橙色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
                "升级提示": "后期升级预警信号的可能性较大",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险较大，请防范。",
                    "县城积涝": "，县城积涝气象风险较大，请防范。"
                },
                "结尾": ""
            }
        },
        "实况": {
            "短短信": "X县气象台X日X时X分发布暴雨橙色预警信号：我县{辖区区域}已出现暴雨，X小时内强降雨将持续，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨橙色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的强降雨，目前，强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍有 Y2毫米左右降雨，并可能伴有{伴随天气}",
                "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨红色预警，则加上“后期升级预警信号的可能性较大”）",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险较大，请注意防范。",
                    "县城积涝": "，县城积涝气象风险较大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "实况趋减": {
            "短短信": "X县气象台X日X时X分发布暴雨橙色预警信号：{辖区区域}已出现暴雨，雨势趋于减小，请防范强降水后引发的次生灾害。",
            "长短信": {
                "主体": "X县气象台XX日XX时XX分发布暴雨橙色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前，强降雨云团明显减弱{移向}，预计未来XX小时，{辖区区域}仍有Y2毫米左右降雨，",
                "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨红色预警，则加上“后期升级预警信号的可能性较大，”）",
                "风险提示": {
                    "山洪地质灾害": "山洪地质灾害气象风险大，请注意防范。",
                    "县城积涝": "城区积涝气象风险大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "继续发布": {
            "短短信": "X县气象台X日X时X分继续发布暴雨橙色预警信号：X小时内暴雨将继续影响{辖区区域}，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分继续发布暴雨橙色预警信号：目前强降雨云团已影响我县{辖区区域}，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}将出现Y2毫米左右的强降雨，并可能伴有{伴随天气}",
                "升级提示": "（如果考虑降雨加强，后续可能会升级为暴雨红色预警，则加上“后期升级预警信号的可能性较大，”）",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险较大，请注意防范。",
                    "县城积涝": "，县城积涝气象风险较大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "解除": {
            "短短信": "X县气象台X日X时X分解除我县暴雨橙色预警信号,请注意防范强降水过后可能引发的次生灾害。",
            "长短信": {
                "主体": "目前{云团状态}，对我县影响{影响状态}，X县气象台X日X时X分解除暴雨橙色预警信号，请注意防范强降水过后可能引发的次生灾害。过去{过去时长}小时{实际影响区域}已经出现{降雨范围}毫米，局地的{局地降雨范围}毫米的大暴雨天气，最大降雨出现在{最大降雨区域}（{最大降雨量}毫米）。",
                "升级提示": "",
                "风险提示": {},
                "结尾": ""
            }
        }
    },
    "红色": {
        "提前": {
            "短短信": "X县气象台X日X时X分发布暴雨红色预警信号：预计未来X小时内我县{辖区区域}将出现大暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨红色预警信号：目前强降雨云团正逐渐靠近我县{辖区区域}，预计未来XX小时，我县{辖区区域}将出现XYX毫米左右的强降雨，并可能伴有{伴随天气}，",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "山洪地质灾害气象风险很大，请注意防范。",
                    "县城积涝": "县城积涝气象风险很大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "过程": {
            "短短信": "X县气象台X日X时X分发布暴雨红色预警信号：我县{辖区区域}已出现强降雨，X小时内我县{辖区区域}将出现大暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分发布暴雨红色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险很大，请防范。",
                    "县城积涝": "，县城积涝气象风险很大，请防范。"
                },
                "结尾": ""
            }
        },
        "实况": {
            "短短信": "X县气象台X日X时X分发布暴雨红色预警信号：我县{辖区区域}已出现大暴雨，X小时内强降雨将持续，请注意防范。",
            "长短信": {
                "主体": "X县气象台XX日XX时XX分发布暴雨红色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的强降雨，目前，强降雨云团缓慢{移向}，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}仍有Y2毫米左右降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险很大，请防范。",
                    "县城积涝": "，县城积涝气象风险很大，请防范。"
                },
                "结尾": ""
            }
        },
        "实况趋减": {
            "短短信": "X县气象台X日X时X分发布暴雨红色预警信号：{辖区区域}已出现大暴雨，雨势趋于减小，请防范强降水后引发的次生灾害。",
            "长短信": {
                "主体": "X县气象台XX日XX时XX分发布暴雨红色预警信号：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前，强降雨云团明显减弱{移向}，预计未来XX小时，{辖区区域}仍有Y2毫米左右降雨，",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "山洪地质灾害气象风险大，请注意防范。",
                    "县城积涝": "城区积涝气象风险大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "继续发布": {
            "短短信": "X县气象台X日X时X分继续发布暴雨红色预警信号：X小时内大暴雨将继续影响{辖区区域}，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分继续发布暴雨红色预警信号：目前强降雨云团已影响我县{辖区区域}，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}将出现Y2毫米左右的强降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险很大，请注意防范。",
                    "县城积涝": "，县城积涝气象风险很大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "解除": {
            "短短信": "X县气象台X日X时X分解除我县暴雨红色预警信号,请注意防范强降水过后可能引发的次生灾害。",
            "长短信": {
                "主体": "目前{云团状态}，对我县影响{影响状态}，X县气象台X日X时X分解除暴雨红色预警信号，请注意防范强降水过后可能引发的次生灾害。过去{过去时长}小时{实际影响区域}已经出现{降雨范围}毫米，局地的{局地降雨范围}毫米的大暴雨天气，最大降雨出现在{最大降雨区域}（{最大降雨量}毫米）。",
                "升级提示": "",
                "风险提示": {},
                "结尾": ""
            }
        }
    },
    "升级": {
        "黄升橙色": {
            "短短信": "X县气象台X日X时X分将暴雨黄色预警信号提升为橙色：我县{辖区区域}未来X小时内将出现暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分将暴雨黄色预警信号提升为橙色：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前，强降雨云团缓慢{移向}或稳定少动，强度增强，预计未来XX小时，我县{辖区区域}仍将有Y2毫米左右的强降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险较大，请防范。",
                    "县城积涝": "，县城积涝气象风险较大，请防范。"
                },
                "结尾": ""
            }
        },
        "黄升红色": {
            "短短信": "X县气象台X日X时X分将暴雨黄色预警信号提升为红色：我县{辖区区域}未来X小时内将出现大暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分将暴雨黄色预警信号提升为红色：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险很大，请注意防范。",
                    "县城积涝": "，城区积涝气象风险很大，请注意防范。"
                },
                "结尾": ""
            }
        },
        "橙升红色": {
            "短短信": "X县气象台X日X时X分将暴雨橙色预警信号提升为红色：我县{辖区区域}未来X小时内将出现大暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分将暴雨橙色预警信号提升为红色：过去X1小时，我县{辖区区域}已出现Y1毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度{强度变化趋势}，预计未来XX小时，我县{辖区区域}将有Y2毫米左右强降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险很大，请注意防范。",
                    "县城积涝": "，城区积涝气象风险很大，请注意防范。"
                },
                "结尾": ""
            }
        }
    },
    "降级": {
        "橙降黄色": {
            "短短信": "X县气象台X日X时X分将暴雨橙色预警信号调整为黄色：我县{辖区区域}未来X小时内将出现暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分将暴雨橙色预警信号调整为黄色：过去X1小时，我县{辖区区域}已出现Y2毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度减弱，预计未来XX小时，我县{辖区区域}仍将有Y2毫米左右的强降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险大，请防范。",
                    "县城积涝": "，县城积涝气象风险大，请防范。"
                },
                "结尾": ""
            }
        },
        "红降黄色": {
            "短短信": "X县气象台X日X时X分将暴雨红色预警信号调整为黄色：我县{辖区区域}未来X小时内将出现暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分将暴雨红色预警信号调整为黄色：过去X1小时，我县{辖区区域}已出现Y2毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度减弱，预计未来XX小时，我县{辖区区域}仍将有Y2毫米左右的强降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险较大，请防范。",
                    "县城积涝": "，县城积涝气象风险较大，请防范。"
                },
                "结尾": ""
            }
        },
        "红降橙色": {
            "短短信": "X县气象台X日X时X分将暴雨红色预警信号调整为橙色：我县{辖区区域}未来X小时内将出现暴雨，请注意防范。",
            "长短信": {
                "主体": "X县气象台X日X时X分将暴雨红色预警信号调整为橙色：过去X1小时，我县{辖区区域}已出现Y2毫米左右的降雨，目前强降雨云团缓慢{移向}或稳定少动，强度减弱，预计未来XX小时，我县{辖区区域}仍将有Y2毫米左右的强降雨，并可能伴有{伴随天气}",
                "升级提示": "",
                "风险提示": {
                    "山洪地质灾害": "，山洪地质灾害气象风险大，请注意防范。",
                    "县城积涝": "，县城积涝气象风险大，请注意防范。"
                },
                "结尾": ""
            }
        }
    }
}


def generate_message(warning_level, warning_type, message_type, params):
    """
    根据预警信息和参数生成预警短信内容。

    Args:
        warning_level (str): 预警等级，如 "黄色", "橙色", "红色"。
        warning_type (str): 预警类型，如 "提前", "过程", "升级", "降级"。
        message_type (str): 短信类型，如 "短短信", "长短信"。
        params (dict): 包含所有占位符所需数据的字典。

    Returns:
        str: 生成的预警短信内容。
    """
    try:
        # 特殊处理升级和降级类型，从params中获取具体等级变化
        if warning_type in ["升级", "降级"]:
            specific_type = params.get("具体类型")
            if not specific_type:
                return "错误：升级/降级类型需要提供具体类型参数。"
            template = RAIN_STORM_TEMPLATES[warning_type][specific_type]
        else:
            template = RAIN_STORM_TEMPLATES[warning_level][warning_type]

        if message_type == "短短信":
            return template["短短信"].format(**params)
        elif message_type == "长短信":
            # 组合长短信的各个部分
            long_sms_parts = []
            
            # 主体
            if "主体" in template["长短信"]:
                long_sms_parts.append(template["长短信"]["主体"].format(**params))

            # 升级提示
            if "升级提示" in template["长短信"] and template["长短信"]["升级提示"]:
                long_sms_parts.append(template["长短信"]["升级提示"].format(**params))
            
            # 风险提示
            if "风险提示" in template["长短信"] and "风险类型" in params:
                risk_type = params["风险类型"]
                if risk_type in template["长短信"]["风险提示"]:
                    long_sms_parts.append(template["长短信"]["风险提示"][risk_type].format(**params))

            # 结尾
            if "结尾" in template["长短信"] and template["长短信"]["结尾"]:
                long_sms_parts.append(template["长短信"]["结尾"].format(**params))
            
            return "".join(long_sms_parts).strip()

    except KeyError as e:
        return f"错误：未找到对应的模板键 -> {e}"
    except Exception as e:
        return f"生成短信时发生未知错误：{e}"


# --- 使用示例 ---
# 示例1: 生成暴雨黄色预警的“提前”短短信
params_提前_黄色 = {
    "辖区区域": "城关镇",
    "X": "1", "X时": "11", "X分": "00"
}
#print(generate_message("黄色", "提前", "短短信", params_提前_黄色))

# 示例2: 生成暴雨黄色预警的“过程”长短信
params_过程_黄色 = {
    "辖区区域": "北部地区",
    "X1": "1", "Y1": "55",
    "移向": "偏北",
    "强度变化趋势": "减弱",
    "Y2": "30",
    "伴随天气": "雷电、短时大风",
    "风险类型": "山洪地质灾害",
    "X": "1", "X时": "11", "X分": "00"
}
#print(generate_message("黄色", "过程", "长短信", params_过程_黄色))

# 示例3: 生成暴雨预警的“升级”长短信 (黄升橙)
params_黄升橙 = {
    "具体类型": "黄升橙色",
    "辖区区域": "城区",
    "X1": "2", "Y1": "60",
    "移向": "偏东",
    "强度变化趋势": "增强",
    "Y2": "80",
    "伴随天气": "冰雹",
    "风险类型": "县城积涝",
    "X": "1", "X时": "11", "X分": "00"
}
#print(generate_message("升级", "黄升橙色", "长短信", params_黄升橙))

# 示例4: 生成暴雨预警的“降级”短短信 (橙降黄)
params_橙降黄 = {
    "具体类型": "橙降黄色",
    "辖区区域": "南部山区",
    "Y1": "24", "Y2": "150", "Y3": "40",
    "移向": "东南",
    "伴随天气": "无",
    "X": "1", "X时": "11", "X分": "00"
}
#print(generate_message("降级", "橙降黄色", "短短信", params_橙降黄))
